$C = "../Common.ui";

@SectionTitleStyle = LabelStyle(
  ...$C.@DefaultLabelStyle,
  RenderBold: true,
  RenderUppercase: true,
  FontSize: 14,
  TextColor: #9fb3c8
);

@StatLabelStyle = LabelStyle(
  ...$C.@DefaultLabelStyle,
  RenderBold: true,
  RenderUppercase: true,
  TextColor: #c7d1d8
);

@StatValueStyle = LabelStyle(
  FontSize: 16,
  RenderBold: true,
  TextColor: #f0f4f8,
  HorizontalAlignment: Center,
  VerticalAlignment: Center
);

@StatRowHeight = 32;
@StatValueWidth = 56;
@StatValueHeight = 24;
@AddButtonWidth = 44;
@AddButtonHeight = 28;

@StatAddButton = TextButton {
  Style: $C.@SecondaryTextButtonStyle;
  Anchor: (Width: @AddButtonWidth, Height: @AddButtonHeight);
  Text: "+";
};

$C.@PageOverlay {
  LayoutMode: Middle;

  $C.@DecoratedContainer {
    Anchor: (Width: 920, Height: 620);

    #Title {
      Group {
        LayoutMode: Left;

        $C.@Title {
          @Text = "RPG Stats";
        }
      }
    }

    #Content {
      LayoutMode: Top;
      Padding: (Full: 16);

      Group #Tabs {
        LayoutMode: Left;
        Anchor: (Height: 34, Bottom: 12);

        $C.@SecondaryTextButton #TabStats {
          Anchor: (Width: 140, Height: 30);
          Text: "Stats";
        }

        Group {
          Anchor: (Width: 6);
        }

        $C.@SecondaryTextButton #TabAbilities {
          Anchor: (Width: 140, Height: 30);
          Text: "Abilities";
        }

        Group {
          Anchor: (Width: 6);
        }

        $C.@SecondaryTextButton #TabReset {
          Anchor: (Width: 140, Height: 30);
          Text: "Reset";
        }
      }

      Group #StatsContent {
        LayoutMode: Left;
        FlexWeight: 1;

        Group #StatsPanel {
          Anchor: (Width: 300);
          LayoutMode: Top;
          Background: (TexturePath: "../Common/ContainerPanelPatch.png", Border: 4);
          Padding: (Full: 12);

          Label {
            Style: @SectionTitleStyle;
            Text: "Attributes";
            Anchor: (Bottom: 10);
          }

          Group #StatsList {
            LayoutMode: Top;

            Group {
              LayoutMode: Left;
              Anchor: (Height: @StatRowHeight, Bottom: 6);

              Label {
                Style: @StatLabelStyle;
                Text: "STR";
                Anchor: (Width: 50);
              }

              Group {
                Anchor: (Width: @StatValueWidth, Height: @StatValueHeight);
                Background: $C.@InputBoxBackground;
                LayoutMode: Center;

                Label #StrValue {
                  Style: @StatValueStyle;
                  Text: "10";
                }
              }

              Group { FlexWeight: 1; }

              @StatAddButton #AddStr {}
            }

            Group {
              LayoutMode: Left;
              Anchor: (Height: @StatRowHeight, Bottom: 6);

              Label {
                Style: @StatLabelStyle;
                Text: "DEX";
                Anchor: (Width: 50);
              }

              Group {
                Anchor: (Width: @StatValueWidth, Height: @StatValueHeight);
                Background: $C.@InputBoxBackground;
                LayoutMode: Center;

                Label #DexValue {
                  Style: @StatValueStyle;
                  Text: "10";
                }
              }

              Group { FlexWeight: 1; }

              @StatAddButton #AddDex {}
            }

            Group {
              LayoutMode: Left;
              Anchor: (Height: @StatRowHeight, Bottom: 6);

              Label {
                Style: @StatLabelStyle;
                Text: "CON";
                Anchor: (Width: 50);
              }

              Group {
                Anchor: (Width: @StatValueWidth, Height: @StatValueHeight);
                Background: $C.@InputBoxBackground;
                LayoutMode: Center;

                Label #ConValue {
                  Style: @StatValueStyle;
                  Text: "10";
                }
              }

              Group { FlexWeight: 1; }

              @StatAddButton #AddCon {}
            }

            Group {
              LayoutMode: Left;
              Anchor: (Height: @StatRowHeight, Bottom: 6);

              Label {
                Style: @StatLabelStyle;
                Text: "INT";
                Anchor: (Width: 50);
              }

              Group {
                Anchor: (Width: @StatValueWidth, Height: @StatValueHeight);
                Background: $C.@InputBoxBackground;
                LayoutMode: Center;

                Label #IntValue {
                  Style: @StatValueStyle;
                  Text: "10";
                }
              }

              Group { FlexWeight: 1; }

              @StatAddButton #AddInt {}
            }

            Group {
              LayoutMode: Left;
              Anchor: (Height: @StatRowHeight, Bottom: 6);

              Label {
                Style: @StatLabelStyle;
                Text: "END";
                Anchor: (Width: 50);
              }

              Group {
                Anchor: (Width: @StatValueWidth, Height: @StatValueHeight);
                Background: $C.@InputBoxBackground;
                LayoutMode: Center;

                Label #EndValue {
                  Style: @StatValueStyle;
                  Text: "10";
                }
              }

              Group { FlexWeight: 1; }

              @StatAddButton #AddEnd {}
            }

            Group {
              LayoutMode: Left;
              Anchor: (Height: @StatRowHeight, Bottom: 6);

              Label {
                Style: @StatLabelStyle;
                Text: "CHA";
                Anchor: (Width: 50);
              }

              Group {
                Anchor: (Width: @StatValueWidth, Height: @StatValueHeight);
                Background: $C.@InputBoxBackground;
                LayoutMode: Center;

                Label #ChaValue {
                  Style: @StatValueStyle;
                  Text: "10";
                }
              }

              Group { FlexWeight: 1; }

              @StatAddButton #AddCha {}
            }
          }

          Group { FlexWeight: 1; }

          Group #ProgressSection {
            LayoutMode: Top;
            Anchor: (Top: 10);

            Group {
              LayoutMode: Left;
              Anchor: (Bottom: 6);

              Label {
                Style: @SectionTitleStyle;
                Text: "Level";
                Padding: (Right: 6);
              }

              Label #LevelValue {
                Style: @SectionTitleStyle;
                Text: "1";
                Padding: (Right: 14);
              }

              Group { FlexWeight: 1; }

              Label {
                Style: @SectionTitleStyle;
                Text: "Points";
                Padding: (Right: 6);
              }

              Label #PointsValue {
                Style: @SectionTitleStyle;
                Text: "0";
              }
            }

            Group {
              Anchor: (Height: 12, Bottom: 6, Left: 0, Right: 0);
              Background: "../Common/ProgressBar.png";
              Padding: (Full: 2);

              ProgressBar #XpProgressBar {
                BarTexturePath: "../Common/ProgressBarFill.png";
                EffectTexturePath: "../Common/ProgressBarEffect.png";
                EffectWidth: 60;
                EffectHeight: 24;
                EffectOffset: 50;
              }
            }

            Label #XpText {
              Style: (...$C.@DefaultLabelStyle, FontSize: 13, TextColor: #bfcdd5);
              Text: "XP 0/100";
            }
          }
        }

        Group #StatsDetails {
          FlexWeight: 1;
          LayoutMode: Top;
          Padding: (Left: 16);

          Group {
            FlexWeight: 1;
            Background: (TexturePath: "../Common/ContainerPanelPatch.png", Border: 4);
            Padding: (Full: 16);
            LayoutMode: Top;

            Label {
              Style: @SectionTitleStyle;
              Text: "How stats work";
              Anchor: (Bottom: 10);
            }

            Label {
              Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
              Text: "STR: Raises your damage. Higher STR makes each hit land harder.";
              Anchor: (Bottom: 6);
            }

            Label {
              Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
              Text: "DEX: Improves mining speed so blocks break faster. Higher DEX feels snappier.";
              Anchor: (Bottom: 6);
            }

            Label {
              Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
              Text: "CON: Increases max health so you can take more hits before going down.";
              Anchor: (Bottom: 6);
            }

            Label {
              Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
              Text: "INT: Increases max mana so you can cast more before running dry.";
              Anchor: (Bottom: 6);
            }

            Label {
              Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
              Text: "END: Increases max stamina for longer sprints and actions.";
              Anchor: (Bottom: 6);
            }

            Label {
              Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
              Text: "CHA: Reserved for future perks like better NPC prices and social bonuses.";
            }
          }
        }
      }

      Group #AbilitiesContent {
        LayoutMode: Top;
        FlexWeight: 1;
        Visible: false;

        Group #AbilitiesPanel {
          FlexWeight: 1;
          Background: (TexturePath: "../Common/ContainerPanelPatch.png", Border: 4);
          LayoutMode: Top;
          Padding: (Full: 16);

          Label {
            Style: @SectionTitleStyle;
            Text: "Ability Points";
            Anchor: (Bottom: 12);
          }

          Group {
            LayoutMode: Left;
            Anchor: (Bottom: 12);

            Label {
              Style: @StatLabelStyle;
              Text: "Available";
              Padding: (Right: 8);
            }

            Label #AbilityPointsValue {
              Style: @SectionTitleStyle;
              Text: "0";
            }
          }

          Group #AbilitiesList {
            FlexWeight: 1;
            LayoutMode: TopScrolling;
            ScrollbarStyle: $C.@DefaultScrollbarStyle;
            Padding: (Right: 8);

            Group #AbilitiesListStack {
              LayoutMode: Top;
              Anchor: (Left: 0, Right: 0);

              Group #LightFootCard {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 128, Bottom: 12);
                Background: (TexturePath: "../Common/ContainerPanelPatch.png", Border: 4);
                Padding: (Full: 12);

                Group #LightFootIcon {
                  Anchor: (Width: 64, Height: 64);
                  Background: (Color: #000000);
                }

                Group {
                  Anchor: (Width: 12);
                }

                Group {
                  LayoutMode: Top;
                  FlexWeight: 1;

                  Label #LightFootName {
                    Style: @SectionTitleStyle;
                    Text: "Light Foot";
                    Anchor: (Bottom: 4);
                  }

                  Label #LightFootLevel {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                    Text: "Level 0/3 (+0%)";
                    Anchor: (Bottom: 6);
                  }

                  Label #LightFootDescription {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
                    Text: "Move 5%, 10%, and 15% faster at levels 1-3.";
                  }
                }

                Group {
                  Anchor: (Width: 120);
                  LayoutMode: Top;

                  Group { FlexWeight: 1; }

                  $C.@SmallSecondaryTextButton #LightFootUpgrade {
                    Anchor: (Width: 110, Height: 28);
                    Text: "Upgrade";
                  }
                }
              }

              Group #ArmorProficiencyCard {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 128, Bottom: 12);
                Background: (TexturePath: "../Common/ContainerPanelPatch.png", Border: 4);
                Padding: (Full: 12);

                Group #ArmorProficiencyIcon {
                  Anchor: (Width: 64, Height: 64);
                  Background: (Color: #000000);
                }

                Group {
                  Anchor: (Width: 12);
                }

                Group {
                  LayoutMode: Top;
                  FlexWeight: 1;

                  Label #ArmorProficiencyName {
                    Style: @SectionTitleStyle;
                    Text: "Armor Proficiency";
                    Anchor: (Bottom: 4);
                  }

                  Label #ArmorProficiencyLevel {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                    Text: "Level 0/3 (+0%)";
                    Anchor: (Bottom: 6);
                  }

                  Label #ArmorProficiencyDescription {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
                    Text: "While wearing armor, reduce Physical and Projectile damage by 5%, 10%, and 15%.";
                  }
                }

                Group {
                  Anchor: (Width: 120);
                  LayoutMode: Top;

                  Group { FlexWeight: 1; }

                  $C.@SmallSecondaryTextButton #ArmorProficiencyUpgrade {
                    Anchor: (Width: 110, Height: 28);
                    Text: "Upgrade";
                  }
                }
              }

              Group #GlancingBlowCard {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 128, Bottom: 12);
                Background: (TexturePath: "../Common/ContainerPanelPatch.png", Border: 4);
                Padding: (Full: 12);

                Group #GlancingBlowIcon {
                  Anchor: (Width: 64, Height: 64);
                  Background: (Color: #000000);
                }

                Group {
                  Anchor: (Width: 12);
                }

                Group {
                  LayoutMode: Top;
                  FlexWeight: 1;

                  Label #GlancingBlowName {
                    Style: @SectionTitleStyle;
                    Text: "Glancing Blow";
                    Anchor: (Bottom: 4);
                  }

                  Label #GlancingBlowLevel {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                    Text: "Level 0/3 (0%)";
                    Anchor: (Bottom: 6);
                  }

                  Label #GlancingBlowDescription {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
                    Text: "Chance to dodge hostile NPC damage: 10%, 15%, and 20%.";
                  }
                }

                Group {
                  Anchor: (Width: 120);
                  LayoutMode: Top;

                  Group { FlexWeight: 1; }

                  $C.@SmallSecondaryTextButton #GlancingBlowUpgrade {
                    Anchor: (Width: 110, Height: 28);
                    Text: "Upgrade";
                  }
                }
              }

              Group #HealthRegenCard {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 128, Bottom: 12);
                Background: (TexturePath: "../Common/ContainerPanelPatch.png", Border: 4);
                Padding: (Full: 12);

                Group #HealthRegenIcon {
                  Anchor: (Width: 64, Height: 64);
                  Background: (Color: #000000);
                }

                Group {
                  Anchor: (Width: 12);
                }

                Group {
                  LayoutMode: Top;
                  FlexWeight: 1;

                  Label #HealthRegenName {
                    Style: @SectionTitleStyle;
                    Text: "Health Regeneration";
                    Anchor: (Bottom: 4);
                  }

                  Label #HealthRegenLevel {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                    Text: "Level 0/3 (0/s)";
                    Anchor: (Bottom: 6);
                  }

                  Label #HealthRegenDescription {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
                    Text: "Regenerate 2, 3, and 4 health per second at levels 1-3.";
                  }
                }

                Group {
                  Anchor: (Width: 120);
                  LayoutMode: Top;

                  Group { FlexWeight: 1; }

                  $C.@SmallSecondaryTextButton #HealthRegenUpgrade {
                    Anchor: (Width: 110, Height: 28);
                    Text: "Upgrade";
                  }
                }
              }

              Group #StaminaRegenCard {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 128, Bottom: 12);
                Background: (TexturePath: "../Common/ContainerPanelPatch.png", Border: 4);
                Padding: (Full: 12);

                Group #StaminaRegenIcon {
                  Anchor: (Width: 64, Height: 64);
                  Background: (Color: #000000);
                }

                Group {
                  Anchor: (Width: 12);
                }

                Group {
                  LayoutMode: Top;
                  FlexWeight: 1;

                  Label #StaminaRegenName {
                    Style: @SectionTitleStyle;
                    Text: "Stamina Regeneration";
                    Anchor: (Bottom: 4);
                  }

                  Label #StaminaRegenLevel {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                    Text: "Level 0/3 (0/s)";
                    Anchor: (Bottom: 6);
                  }

                  Label #StaminaRegenDescription {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
                    Text: "Regenerate 2, 3, and 4 stamina per second at levels 1-3.";
                  }
                }

                Group {
                  Anchor: (Width: 120);
                  LayoutMode: Top;

                  Group { FlexWeight: 1; }

                  $C.@SmallSecondaryTextButton #StaminaRegenUpgrade {
                    Anchor: (Width: 110, Height: 28);
                    Text: "Upgrade";
                  }
                }
              }

              Group #StrongLungsCard {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 128, Bottom: 12);
                Background: (TexturePath: "../Common/ContainerPanelPatch.png", Border: 4);
                Padding: (Full: 12);

                Group #StrongLungsIcon {
                  Anchor: (Width: 64, Height: 64);
                  Background: (Color: #000000);
                }

                Group {
                  Anchor: (Width: 12);
                }

                Group {
                  LayoutMode: Top;
                  FlexWeight: 1;

                  Label #StrongLungsName {
                    Style: @SectionTitleStyle;
                    Text: "Strong Lungs";
                    Anchor: (Bottom: 4);
                  }

                  Label #StrongLungsLevel {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                    Text: "Level 0/3 (+0%)";
                    Anchor: (Bottom: 6);
                  }

                  Label #StrongLungsDescription {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
                    Text: "Increase max oxygen by 50%, 100%, and 150% at levels 1-3.";
                  }
                }

                Group {
                  Anchor: (Width: 120);
                  LayoutMode: Top;

                  Group { FlexWeight: 1; }

                  $C.@SmallSecondaryTextButton #StrongLungsUpgrade {
                    Anchor: (Width: 110, Height: 28);
                    Text: "Upgrade";
                  }
                }
              }

              Group #LuckyShotCard {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 128, Bottom: 12);
                Background: (TexturePath: "../Common/ContainerPanelPatch.png", Border: 4);
                Padding: (Full: 12);

                Group #LuckyShotIcon {
                  Anchor: (Width: 64, Height: 64);
                  Background: (Color: #000000);
                }

                Group {
                  Anchor: (Width: 12);
                }

                Group {
                  LayoutMode: Top;
                  FlexWeight: 1;

                  Label #LuckyShotName {
                    Style: @SectionTitleStyle;
                    Text: "Lucky Shot (WIP)";
                    Anchor: (Bottom: 4);
                  }

                  Label #LuckyShotLevel {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                    Text: "Level 0/3 (0%)";
                    Anchor: (Bottom: 6);
                  }

                  Label #LuckyShotDescription {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
                    Text: "Chance to not consume ammo with bow/crossbow: 10%, 20%, and 30%.";
                  }
                }

                Group {
                  Anchor: (Width: 120);
                  LayoutMode: Top;

                  Group { FlexWeight: 1; }

                  $C.@SmallSecondaryTextButton #LuckyShotUpgrade {
                    Anchor: (Width: 110, Height: 28);
                    Text: "Upgrade";
                  }
                }
              }

              Group #CriticalStrikeCard {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 128, Bottom: 12);
                Background: (TexturePath: "../Common/ContainerPanelPatch.png", Border: 4);
                Padding: (Full: 12);

                Group #CriticalStrikeIcon {
                  Anchor: (Width: 64, Height: 64);
                  Background: (Color: #000000);
                }

                Group {
                  Anchor: (Width: 12);
                }

                Group {
                  LayoutMode: Top;
                  FlexWeight: 1;

                  Label #CriticalStrikeName {
                    Style: @SectionTitleStyle;
                    Text: "Critical Strike";
                    Anchor: (Bottom: 4);
                  }

                  Label #CriticalStrikeLevel {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                    Text: "Level 0/3 (0%)";
                    Anchor: (Bottom: 6);
                  }

                  Label #CriticalStrikeDescription {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
                    Text: "Chance to deal 1.5x damage: 10%, 15%, and 20%.";
                  }
                }

                Group {
                  Anchor: (Width: 120);
                  LayoutMode: Top;

                  Group { FlexWeight: 1; }

                  $C.@SmallSecondaryTextButton #CriticalStrikeUpgrade {
                    Anchor: (Width: 110, Height: 28);
                    Text: "Upgrade";
                  }
                }
              }
            }
          }
        }
      }

      Group #ResetContent {
        LayoutMode: Middle;
        FlexWeight: 1;
        Visible: false;

        Group {
          Background: (TexturePath: "../Common/ContainerPanelPatch.png", Border: 4);
          Anchor: (Width: 520, Height: 260);
          LayoutMode: Top;
          Padding: (Full: 18);

          Label {
            Style: (...$C.@DefaultLabelStyle, FontSize: 18, TextColor: #d8c9a6, HorizontalAlignment: Center, Wrap: true);
            Text: "Resetting your stats cannot be undone.";
            Anchor: (Bottom: 12);
          }

          Label {
            Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, HorizontalAlignment: Center, Wrap: true);
            Text: "This will return all stats to their default values.";
            Anchor: (Bottom: 18);
          }

          Group {
            LayoutMode: Center;

            $C.@CancelTextButton #ResetStatsButton {
              Anchor: (Width: 220, Height: 36);
              Text: "Reset Stats";
            }
          }
        }
      }
    }

  }
}
