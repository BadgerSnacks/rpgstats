$C = "../Common.ui";

@SectionTitleStyle = LabelStyle(
  ...$C.@DefaultLabelStyle,
  RenderBold: true,
  RenderUppercase: true,
  FontSize: 14,
  TextColor: #9fb3c8
);

@StatLabelStyle = LabelStyle(
  ...$C.@DefaultLabelStyle,
  RenderBold: true,
  RenderUppercase: true,
  TextColor: #c7d1d8
);

@StatValueStyle = LabelStyle(
  FontSize: 16,
  RenderBold: true,
  TextColor: #f0f4f8,
  HorizontalAlignment: Center,
  VerticalAlignment: Center
);

@StatRowHeight = 32;
@StatValueWidth = 56;
@StatValueHeight = 24;
@AddButtonWidth = 44;
@AddButtonHeight = 28;

@StatAddButton = TextButton {
  Style: $C.@SecondaryTextButtonStyle;
  Anchor: (Width: @AddButtonWidth, Height: @AddButtonHeight);
  Text: "+";
};

@AbilityDescriptionStyle = LabelStyle(
  ...$C.@DefaultLabelStyle,
  FontSize: 14,
  TextColor: #c7d1d8,
  Wrap: true
);

@AbilityNameStyle = LabelStyle(
  ...$C.@DefaultLabelStyle,
  RenderBold: true,
  RenderUppercase: true,
  FontSize: 16,
  TextColor: #f1cb71
);

$C.@PageOverlay {
  LayoutMode: Middle;

  $C.@DecoratedContainer {
    Anchor: (Width: 1020, Height: 820);

    #Title {
      Group {
        LayoutMode: Left;

        $C.@Title {
          @Text = "RPG Stats";
        }
      }
    }

    #Content {
      LayoutMode: Top;
      Padding: (Full: 16);

      Group #Tabs {
        LayoutMode: Left;
        Anchor: (Height: 34, Bottom: 12);

        $C.@SecondaryTextButton #TabStats {
          Anchor: (Width: 140, Height: 30);
          Text: "Stats";
        }

        Group {
          Anchor: (Width: 6);
        }

        $C.@SecondaryTextButton #TabAbilities {
          Anchor: (Width: 140, Height: 30);
          Text: "Abilities";
        }

        Group {
          Anchor: (Width: 6);
        }

        $C.@SecondaryTextButton #TabParty {
          Anchor: (Width: 140, Height: 30);
          Text: "Party";
        }

        Group {
          Anchor: (Width: 6);
        }

        $C.@SecondaryTextButton #TabReset {
          Anchor: (Width: 140, Height: 30);
          Text: "Reset";
        }
      }

      Group #StatsContent {
        LayoutMode: Left;
        FlexWeight: 1;

        Group #StatsPanel {
          Anchor: (Width: 300);
          LayoutMode: Top;
          Background: (TexturePath: "../Common/stone_bg.png", Border: 80);
          Padding: (Top: 34, Bottom: 38, Left: 28, Right: 28);

          Label {
            Style: (...@SectionTitleStyle, HorizontalAlignment: Center, FontSize: 22, TextColor: #f1cb71, RenderBold: true);
            Text: "Attributes";
            Anchor: (Bottom: 10, Left: 0, Right: 0);
          }

          Group #StatsList {
            LayoutMode: Top;

            Group {
              LayoutMode: Left;
              Anchor: (Height: @StatRowHeight, Bottom: 6);

              Label {
                Style: @StatLabelStyle;
                Text: "STR";
                Anchor: (Width: 50);
              }

              Group {
                Anchor: (Width: @StatValueWidth, Height: @StatValueHeight);
                Background: $C.@InputBoxBackground;
                LayoutMode: Center;

                Label #StrValue {
                  Style: @StatValueStyle;
                  Text: "10";
                }
              }

              Group { FlexWeight: 1; }

              @StatAddButton #AddStr {}
            }

            Group {
              LayoutMode: Left;
              Anchor: (Height: @StatRowHeight, Bottom: 6);

              Label {
                Style: @StatLabelStyle;
                Text: "DEX";
                Anchor: (Width: 50);
              }

              Group {
                Anchor: (Width: @StatValueWidth, Height: @StatValueHeight);
                Background: $C.@InputBoxBackground;
                LayoutMode: Center;

                Label #DexValue {
                  Style: @StatValueStyle;
                  Text: "10";
                }
              }

              Group { FlexWeight: 1; }

              @StatAddButton #AddDex {}
            }

            Group {
              LayoutMode: Left;
              Anchor: (Height: @StatRowHeight, Bottom: 6);

              Label {
                Style: @StatLabelStyle;
                Text: "CON";
                Anchor: (Width: 50);
              }

              Group {
                Anchor: (Width: @StatValueWidth, Height: @StatValueHeight);
                Background: $C.@InputBoxBackground;
                LayoutMode: Center;

                Label #ConValue {
                  Style: @StatValueStyle;
                  Text: "10";
                }
              }

              Group { FlexWeight: 1; }

              @StatAddButton #AddCon {}
            }

            Group {
              LayoutMode: Left;
              Anchor: (Height: @StatRowHeight, Bottom: 6);

              Label {
                Style: @StatLabelStyle;
                Text: "INT";
                Anchor: (Width: 50);
              }

              Group {
                Anchor: (Width: @StatValueWidth, Height: @StatValueHeight);
                Background: $C.@InputBoxBackground;
                LayoutMode: Center;

                Label #IntValue {
                  Style: @StatValueStyle;
                  Text: "10";
                }
              }

              Group { FlexWeight: 1; }

              @StatAddButton #AddInt {}
            }

            Group {
              LayoutMode: Left;
              Anchor: (Height: @StatRowHeight, Bottom: 6);

              Label {
                Style: @StatLabelStyle;
                Text: "END";
                Anchor: (Width: 50);
              }

              Group {
                Anchor: (Width: @StatValueWidth, Height: @StatValueHeight);
                Background: $C.@InputBoxBackground;
                LayoutMode: Center;

                Label #EndValue {
                  Style: @StatValueStyle;
                  Text: "10";
                }
              }

              Group { FlexWeight: 1; }

              @StatAddButton #AddEnd {}
            }

            Group {
              LayoutMode: Left;
              Anchor: (Height: @StatRowHeight, Bottom: 6);

              Label {
                Style: @StatLabelStyle;
                Text: "CHA";
                Anchor: (Width: 50);
              }

              Group {
                Anchor: (Width: @StatValueWidth, Height: @StatValueHeight);
                Background: $C.@InputBoxBackground;
                LayoutMode: Center;

                Label #ChaValue {
                  Style: @StatValueStyle;
                  Text: "10";
                }
              }

              Group { FlexWeight: 1; }

              @StatAddButton #AddCha {}
            }
          }

          Group { FlexWeight: 1; }

          Group #RefundAttributesSection {
            LayoutMode: Center;
            Anchor: (Bottom: 8);

            $C.@SecondaryTextButton #RefundAttributesButton {
              Anchor: (Width: 180, Height: 28);
              Text: "Reset";
            }
          }

          Group #ProgressSection {
            LayoutMode: Top;
            Anchor: (Top: 10);

            Group {
              LayoutMode: Left;
              Anchor: (Bottom: 6);

              Label {
                Style: @SectionTitleStyle;
                Text: "Level";
                Padding: (Right: 6);
              }

              Label #LevelValue {
                Style: @SectionTitleStyle;
                Text: "1";
                Padding: (Right: 14);
              }

              Group { FlexWeight: 1; }

              Label {
                Style: @SectionTitleStyle;
                Text: "Points";
                Padding: (Right: 6);
              }

              Label #PointsValue {
                Style: @SectionTitleStyle;
                Text: "0";
              }
            }

            Group {
              Anchor: (Height: 12, Bottom: 6, Left: 0, Right: 0);
              Background: "../Common/ProgressBar.png";
              Padding: (Full: 2);

              ProgressBar #XpProgressBar {
                BarTexturePath: "../Common/ProgressBarFill.png";
                EffectTexturePath: "../Common/ProgressBarEffect.png";
                EffectWidth: 60;
                EffectHeight: 24;
                EffectOffset: 50;
              }
            }

            Label #XpText {
              Style: (...$C.@DefaultLabelStyle, FontSize: 13, TextColor: #bfcdd5, HorizontalAlignment: Center);
              Text: "XP 0/100";
              Anchor: (Bottom: 10, Left: 0, Right: 0);
            }
          }
        }

        Group #StatsDetails {
          FlexWeight: 1;
          LayoutMode: Top;
          Padding: (Left: 16);

          Group {
            FlexWeight: 1;
            Background: (TexturePath: "../Common/stone_bg.png", Border: 80);
            Padding: (Top: 34, Bottom: 34, Left: 28, Right: 24);
            LayoutMode: Top;

            Label {
              Style: (...@SectionTitleStyle, HorizontalAlignment: Center, FontSize: 22, TextColor: #f1cb71, RenderBold: true);
              Text: "How stats work";
              Anchor: (Bottom: 10, Left: 0, Right: 0);
            }

            Label {
              Style: (...$C.@DefaultLabelStyle, TextColor: #f1cb71, RenderBold: true);
              Text: "Strength (STR)";
              Anchor: (Bottom: 6, Left: 6);
            }

            Label {
              Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
              Text: "Hit harder and put more power into every blow! Every point you spend in this stat will make you one step closer to a powerhouse.";
              Anchor: (Bottom: 6, Left: 12, Right: 6);
            }

            Label {
              Style: (...$C.@DefaultLabelStyle, TextColor: #f1cb71, RenderBold: true);
              Text: "Dexterity (DEX)";
              Anchor: (Bottom: 6, Left: 6);
            }

            Label {
              Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
              Text: "Dig faster and bring down trees more efficiently. With each point into dexterity you get more comfortable with your work as it becomes easier to find the weak spots in the stone walls, packed earth, and tree trunks.";
              Anchor: (Bottom: 6, Left: 12, Right: 6);
            }

            Label {
              Style: (...$C.@DefaultLabelStyle, TextColor: #f1cb71, RenderBold: true);
              Text: "Constitution (CON)";
              Anchor: (Bottom: 6, Left: 6);
            }

            Label {
              Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
              Text: "Spend some time training your body, as you improve your constitution you become a little harder to kill. You can take a few more hits before you succumb to your wounds.";
              Anchor: (Bottom: 12, Left: 12, Right: 6);
            }

            Label {
              Style: (...$C.@DefaultLabelStyle, TextColor: #f1cb71, RenderBold: true);
              Text: "Intelligence (INT)";
              Anchor: (Bottom: 6, Left: 6, Top: 16);
            }

            Label {
              Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
              Text: "You spend more time with your studies committing the ancient texts to memory, as you spead points into intelligence you gain a little more magical power.";
              Anchor: (Bottom: 6, Left: 12, Right: 6);
            }

            Label {
              Style: (...$C.@DefaultLabelStyle, TextColor: #f1cb71, RenderBold: true);
              Text: "Endurance (END)";
              Anchor: (Bottom: 6, Left: 6);
            }

            Label {
              Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
              Text: "The feel of wind on your face brings a sense of freedom to your soul, endurance gives you more stamina to keep running.";
              Anchor: (Bottom: 6, Left: 12, Right: 6);
            }

            Label {
              Style: (...$C.@DefaultLabelStyle, TextColor: #f1cb71, RenderBold: true);
              Text: "Charisma (CHA)";
              Anchor: (Bottom: 6, Left: 6);
            }

            Label {
              Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, Wrap: true);
              Text: "Everyone seems to like you! as you spend points into charisma you find that people are a little kinder to you and more likely to do favors for you. (CHA is currently a WIP and is not implemented into the mod.)";
              Anchor: (Bottom: 6, Left: 12, Right: 6);
            }
          }
        }
      }

      Group #AbilitiesContent {
        LayoutMode: Top;
        FlexWeight: 1;
        Visible: false;

        Group #AbilitiesPanel {
          FlexWeight: 1;
          Background: (TexturePath: "../Common/ContainerPanelPatch.png", Border: 4);
          LayoutMode: Top;
          Padding: (Full: 16);

          Label {
            Style: @SectionTitleStyle;
            Text: "Ability Points";
            Anchor: (Bottom: 12);
          }

          Group {
            LayoutMode: Left;
            Anchor: (Bottom: 12);

            Label {
              Style: @StatLabelStyle;
              Text: "Available";
              Padding: (Right: 8);
            }

            Label #AbilityPointsValue {
              Style: @SectionTitleStyle;
              Text: "0";
            }

            Group { FlexWeight: 1; }

            $C.@SecondaryTextButton #RefundAbilitiesButton {
              Anchor: (Width: 140, Height: 26);
              Text: "Reset";
            }
          }

          Group #AbilitiesList {
            FlexWeight: 1;
            LayoutMode: TopScrolling;
            ScrollbarStyle: $C.@DefaultScrollbarStyle;
            Padding: (Right: 8);

            Group #AbilitiesListStack {
              LayoutMode: Top;
              Anchor: (Left: 0, Right: 0);

              Group #Row1 {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 120, Bottom: 8);

                Group #LightFootCard {
                  LayoutMode: Left;
                  FlexWeight: 1;
                  Background: (TexturePath: "../Common/ability_bg.png", Border: 48);
                  Padding: (Left: 24, Right: 18, Bottom: 10, Top: 14);

                  Group {
                    LayoutMode: Top;
                    FlexWeight: 1;

                    Label #LightFootName {
                      Style: @AbilityNameStyle;
                      Text: "Light Foot";
                      Anchor: (Bottom: 2);
                    }

                    Label #LightFootLevel {
                      Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                      Text: "Level 0/3 (+0%)";
                      Anchor: (Bottom: 4);
                    }

                    Label #LightFootDescription {
                      Style: @AbilityDescriptionStyle;
                      Text: "Move 5%, 10%, and 15% faster at levels 1-3.";
                    }
                  }

                  Group {
                    Anchor: (Width: 80);
                    LayoutMode: Top;

                    Group #LightFootIcon {
                      Anchor: (Width: 48, Height: 48, Bottom: 4);
                      Background: (TexturePath: "../Common/light_foot_icon.png");
                    }

                    Group { FlexWeight: 1; }

                    $C.@SmallSecondaryTextButton #LightFootUpgrade {
                      Anchor: (Width: 75, Height: 26, Right: 2, Bottom: 6);
                      Text: "Upgrade";
                    }
                  }
                }

                Group { Anchor: (Width: 8); }

                Group #ArmorProficiencyCard {
                  LayoutMode: Left;
                  FlexWeight: 1;
                  Background: (TexturePath: "../Common/ability_bg.png", Border: 48);
                  Padding: (Left: 24, Right: 18, Bottom: 10, Top: 14);

                  Group {
                    LayoutMode: Top;
                    FlexWeight: 1;

                    Label #ArmorProficiencyName {
                      Style: @AbilityNameStyle;
                      Text: "Armor Proficiency";
                      Anchor: (Bottom: 2);
                    }

                    Label #ArmorProficiencyLevel {
                      Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                      Text: "Level 0/3 (+0%)";
                      Anchor: (Bottom: 4);
                    }

                    Label #ArmorProficiencyDescription {
                      Style: @AbilityDescriptionStyle;
                      Text: "Reduce Physical/Projectile damage by 5%, 10%, 15%.";
                    }
                  }

                  Group {
                    Anchor: (Width: 80);
                    LayoutMode: Top;

                    Group #ArmorProficiencyIcon {
                      Anchor: (Width: 48, Height: 48, Bottom: 4);
                      Background: (TexturePath: "../Common/armor_proficiency_icon.png");
                    }

                    Group { FlexWeight: 1; }

                    $C.@SmallSecondaryTextButton #ArmorProficiencyUpgrade {
                      Anchor: (Width: 75, Height: 26, Right: 2, Bottom: 6);
                      Text: "Upgrade";
                    }
                  }
                }
              }

              Group #Row2 {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 120, Bottom: 8);

                Group #GlancingBlowCard {
                  LayoutMode: Left;
                  FlexWeight: 1;
                  Background: (TexturePath: "../Common/ability_bg.png", Border: 48);
                  Padding: (Left: 24, Right: 18, Bottom: 10, Top: 14);

                  Group {
                    LayoutMode: Top;
                    FlexWeight: 1;

                    Label #GlancingBlowName {
                      Style: @AbilityNameStyle;
                      Text: "Glancing Blow";
                      Anchor: (Bottom: 2);
                    }

                    Label #GlancingBlowLevel {
                      Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                      Text: "Level 0/3 (0%)";
                      Anchor: (Bottom: 4);
                    }

                    Label #GlancingBlowDescription {
                      Style: @AbilityDescriptionStyle;
                      Text: "Chance to dodge NPC damage: 10%, 15%, 20%.";
                    }
                  }

                  Group {
                    Anchor: (Width: 80);
                    LayoutMode: Top;

                    Group #GlancingBlowIcon {
                      Anchor: (Width: 48, Height: 48, Bottom: 4);
                      Background: (TexturePath: "../Common/glancing_blow_icon.png");
                    }

                    Group { FlexWeight: 1; }

                    $C.@SmallSecondaryTextButton #GlancingBlowUpgrade {
                      Anchor: (Width: 75, Height: 26, Right: 2, Bottom: 6);
                      Text: "Upgrade";
                    }
                  }
                }

                Group { Anchor: (Width: 8); }

                Group #HealthRegenCard {
                  LayoutMode: Left;
                  FlexWeight: 1;
                  Background: (TexturePath: "../Common/ability_bg.png", Border: 48);
                  Padding: (Left: 24, Right: 18, Bottom: 10, Top: 14);

                  Group {
                    LayoutMode: Top;
                    FlexWeight: 1;

                    Label #HealthRegenName {
                      Style: @AbilityNameStyle;
                      Text: "Health Regeneration";
                      Anchor: (Bottom: 2);
                    }

                    Label #HealthRegenLevel {
                      Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                      Text: "Level 0/3 (0/s)";
                      Anchor: (Bottom: 4);
                    }

                    Label #HealthRegenDescription {
                      Style: @AbilityDescriptionStyle;
                      Text: "Regenerate 2, 3, 4 health/sec at levels 1-3.";
                    }
                  }

                  Group {
                    Anchor: (Width: 80);
                    LayoutMode: Top;

                    Group #HealthRegenIcon {
                      Anchor: (Width: 48, Height: 48, Bottom: 4);
                      Background: (TexturePath: "../Common/health_regeneration_icon.png");
                    }

                    Group { FlexWeight: 1; }

                    $C.@SmallSecondaryTextButton #HealthRegenUpgrade {
                      Anchor: (Width: 75, Height: 26, Right: 2, Bottom: 6);
                      Text: "Upgrade";
                    }
                  }
                }
              }

              Group #Row3 {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 120, Bottom: 8);

                Group #StaminaRegenCard {
                  LayoutMode: Left;
                  FlexWeight: 1;
                  Background: (TexturePath: "../Common/ability_bg.png", Border: 48);
                  Padding: (Left: 24, Right: 18, Bottom: 10, Top: 14);

                  Group {
                    LayoutMode: Top;
                    FlexWeight: 1;

                    Label #StaminaRegenName {
                      Style: @AbilityNameStyle;
                      Text: "Stamina Regeneration";
                      Anchor: (Bottom: 2);
                    }

                    Label #StaminaRegenLevel {
                      Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                      Text: "Level 0/3 (0/s)";
                      Anchor: (Bottom: 4);
                    }

                    Label #StaminaRegenDescription {
                      Style: @AbilityDescriptionStyle;
                      Text: "Regenerate 1.5, 2, 2.5 stamina/sec at levels 1-3.";
                    }
                  }

                  Group {
                    Anchor: (Width: 80);
                    LayoutMode: Top;

                    Group #StaminaRegenIcon {
                      Anchor: (Width: 48, Height: 48, Bottom: 4);
                      Background: (TexturePath: "../Common/stamina_regeneration_icon.png");
                    }

                    Group { FlexWeight: 1; }

                    $C.@SmallSecondaryTextButton #StaminaRegenUpgrade {
                      Anchor: (Width: 75, Height: 26, Right: 2, Bottom: 6);
                      Text: "Upgrade";
                    }
                  }
                }

                Group { Anchor: (Width: 8); }

                Group #StrongLungsCard {
                  LayoutMode: Left;
                  FlexWeight: 1;
                  Background: (TexturePath: "../Common/ability_bg.png", Border: 48);
                  Padding: (Left: 24, Right: 18, Bottom: 10, Top: 14);

                  Group {
                    LayoutMode: Top;
                    FlexWeight: 1;

                    Label #StrongLungsName {
                      Style: @AbilityNameStyle;
                      Text: "Strong Lungs";
                      Anchor: (Bottom: 2);
                    }

                    Label #StrongLungsLevel {
                      Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                      Text: "Level 0/3 (+0%)";
                      Anchor: (Bottom: 4);
                    }

                    Label #StrongLungsDescription {
                      Style: @AbilityDescriptionStyle;
                      Text: "Increase max oxygen by 50%, 100%, 150%.";
                    }
                  }

                  Group {
                    Anchor: (Width: 80);
                    LayoutMode: Top;

                    Group #StrongLungsIcon {
                      Anchor: (Width: 48, Height: 48, Bottom: 4);
                      Background: (TexturePath: "../Common/strong_lungs_icon.png");
                    }

                    Group { FlexWeight: 1; }

                    $C.@SmallSecondaryTextButton #StrongLungsUpgrade {
                      Anchor: (Width: 75, Height: 26, Right: 2, Bottom: 6);
                      Text: "Upgrade";
                    }
                  }
                }
              }

              Group #Row4 {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 120, Bottom: 8);

                Group #LuckyShotCard {
                  LayoutMode: Left;
                  FlexWeight: 1;
                  Background: (TexturePath: "../Common/ability_bg.png", Border: 48);
                  Padding: (Left: 24, Right: 18, Bottom: 10, Top: 14);

                  Group {
                    LayoutMode: Top;
                    FlexWeight: 1;

                    Label #LuckyShotName {
                      Style: @AbilityNameStyle;
                      Text: "Lucky Shot (WIP)";
                      Anchor: (Bottom: 2);
                    }

                    Label #LuckyShotLevel {
                      Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                      Text: "Level 0/3 (0%)";
                      Anchor: (Bottom: 4);
                    }

                    Label #LuckyShotDescription {
                      Style: @AbilityDescriptionStyle;
                      Text: "Chance to save ammo: 10%, 20%, 30%.";
                    }
                  }

                  Group {
                    Anchor: (Width: 80);
                    LayoutMode: Top;

                    Group #LuckyShotIcon {
                      Anchor: (Width: 48, Height: 48, Bottom: 4);
                      Background: (TexturePath: "../Common/lucky_shot_icon.png");
                    }

                    Group { FlexWeight: 1; }

                    $C.@SmallSecondaryTextButton #LuckyShotUpgrade {
                      Anchor: (Width: 75, Height: 26, Right: 2, Bottom: 6);
                      Text: "Upgrade";
                    }
                  }
                }

                Group { Anchor: (Width: 8); }

                Group #CriticalStrikeCard {
                  LayoutMode: Left;
                  FlexWeight: 1;
                  Background: (TexturePath: "../Common/ability_bg.png", Border: 48);
                  Padding: (Left: 24, Right: 18, Bottom: 10, Top: 14);

                  Group {
                    LayoutMode: Top;
                    FlexWeight: 1;

                    Label #CriticalStrikeName {
                      Style: @AbilityNameStyle;
                      Text: "Critical Strike";
                      Anchor: (Bottom: 2);
                    }

                    Label #CriticalStrikeLevel {
                      Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                      Text: "Level 0/3 (0%)";
                      Anchor: (Bottom: 4);
                    }

                    Label #CriticalStrikeDescription {
                      Style: @AbilityDescriptionStyle;
                      Text: "Chance for 1.5x damage: 10%, 15%, 20%.";
                    }
                  }

                  Group {
                    Anchor: (Width: 80);
                    LayoutMode: Top;

                    Group #CriticalStrikeIcon {
                      Anchor: (Width: 48, Height: 48, Bottom: 4);
                      Background: (TexturePath: "../Common/critical_strike_icon.png");
                    }

                    Group { FlexWeight: 1; }

                    $C.@SmallSecondaryTextButton #CriticalStrikeUpgrade {
                      Anchor: (Width: 75, Height: 26, Right: 2, Bottom: 6);
                      Text: "Upgrade";
                    }
                  }
                }
              }

              Group #Row5 {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 120, Bottom: 8);

                Group #LifestealCard {
                  LayoutMode: Left;
                  FlexWeight: 1;
                  Background: (TexturePath: "../Common/ability_bg.png", Border: 48);
                  Padding: (Left: 24, Right: 18, Bottom: 10, Top: 14);

                  Group {
                    LayoutMode: Top;
                    FlexWeight: 1;

                    Label #LifestealName {
                      Style: @AbilityNameStyle;
                      Text: "Lifesteal";
                      Anchor: (Bottom: 2);
                    }

                    Label #LifestealLevel {
                      Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                      Text: "Level 0/3 (0%)";
                      Anchor: (Bottom: 4);
                    }

                    Label #LifestealDescription {
                      Style: @AbilityDescriptionStyle;
                      Text: "Heal for 3%, 6%, 9% of damage dealt.";
                    }
                  }

                  Group {
                    Anchor: (Width: 80);
                    LayoutMode: Top;

                    Group #LifestealIcon {
                      Anchor: (Width: 48, Height: 48, Bottom: 4);
                      Background: (TexturePath: "../Common/life_steal_icon.png");
                    }

                    Group { FlexWeight: 1; }

                    $C.@SmallSecondaryTextButton #LifestealUpgrade {
                      Anchor: (Width: 75, Height: 26, Right: 2, Bottom: 6);
                      Text: "Upgrade";
                    }
                  }
                }

                Group { Anchor: (Width: 8); }

                Group #ThornsCard {
                  LayoutMode: Left;
                  FlexWeight: 1;
                  Background: (TexturePath: "../Common/ability_bg.png", Border: 48);
                  Padding: (Left: 24, Right: 18, Bottom: 10, Top: 14);

                  Group {
                    LayoutMode: Top;
                    FlexWeight: 1;

                    Label #ThornsName {
                      Style: @AbilityNameStyle;
                      Text: "Thorns";
                      Anchor: (Bottom: 2);
                    }

                    Label #ThornsLevel {
                      Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                      Text: "Level 0/3 (0%)";
                      Anchor: (Bottom: 4);
                    }

                    Label #ThornsDescription {
                      Style: @AbilityDescriptionStyle;
                      Text: "Reflect 25%, 50%, 75% damage to attackers.";
                    }
                  }

                  Group {
                    Anchor: (Width: 80);
                    LayoutMode: Top;

                    Group #ThornsIcon {
                      Anchor: (Width: 48, Height: 48, Bottom: 4);
                      Background: (TexturePath: "../Common/thorns_icon.png");
                    }

                    Group { FlexWeight: 1; }

                    $C.@SmallSecondaryTextButton #ThornsUpgrade {
                      Anchor: (Width: 75, Height: 26, Right: 2, Bottom: 6);
                      Text: "Upgrade";
                    }
                  }
                }
              }

              Group #Row6 {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 120, Bottom: 8);

                Group #ToolProficiencyCard {
                  LayoutMode: Left;
                  FlexWeight: 1;
                  Background: (TexturePath: "../Common/ability_bg.png", Border: 48);
                  Padding: (Left: 24, Right: 18, Bottom: 10, Top: 14);

                  Group {
                    LayoutMode: Top;
                    FlexWeight: 1;

                    Label #ToolProficiencyName {
                      Style: @AbilityNameStyle;
                      Text: "Tool Proficiency";
                      Anchor: (Bottom: 2);
                    }

                    Label #ToolProficiencyLevel {
                      Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                      Text: "Level 0/3 (0%)";
                      Anchor: (Bottom: 4);
                    }

                    Label #ToolProficiencyDescription {
                      Style: @AbilityDescriptionStyle;
                      Text: "Chance to preserve durability: 15%, 30%, 45%.";
                    }
                  }

                  Group {
                    Anchor: (Width: 80);
                    LayoutMode: Top;

                    Group #ToolProficiencyIcon {
                      Anchor: (Width: 48, Height: 48, Bottom: 4);
                      Background: (TexturePath: "../Common/tool_proficiency_icon.png");
                    }

                    Group { FlexWeight: 1; }

                    $C.@SmallSecondaryTextButton #ToolProficiencyUpgrade {
                      Anchor: (Width: 75, Height: 26, Right: 2, Bottom: 6);
                      Text: "Upgrade";
                    }
                  }
                }

                Group { Anchor: (Width: 8); }

                Group #LuckyMinerCard {
                  LayoutMode: Left;
                  FlexWeight: 1;
                  Background: (TexturePath: "../Common/ability_bg.png", Border: 48);
                  Padding: (Left: 24, Right: 18, Bottom: 10, Top: 14);

                  Group {
                    LayoutMode: Top;
                    FlexWeight: 1;

                    Label #LuckyMinerName {
                      Style: @AbilityNameStyle;
                      Text: "Lucky Miner";
                      Anchor: (Bottom: 2);
                    }

                    Label #LuckyMinerLevel {
                      Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                      Text: "Level 0/3 (0%)";
                      Anchor: (Bottom: 4);
                    }

                    Label #LuckyMinerDescription {
                      Style: @AbilityDescriptionStyle;
                      Text: "Chance for bonus ore: 10%, 20%, 30%.";
                    }
                  }

                  Group {
                    Anchor: (Width: 80);
                    LayoutMode: Top;

                    Group #LuckyMinerIcon {
                      Anchor: (Width: 48, Height: 48, Bottom: 4);
                      Background: (TexturePath: "../Common/lucky_miner_icon.png");
                    }

                    Group { FlexWeight: 1; }

                    $C.@SmallSecondaryTextButton #LuckyMinerUpgrade {
                      Anchor: (Width: 75, Height: 26, Right: 2, Bottom: 6);
                      Text: "Upgrade";
                    }
                  }
                }
              }

              Group #Row7 {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 120, Bottom: 8);

                Group #FlameTouchCard {
                  LayoutMode: Left;
                  FlexWeight: 1;
                  Background: (TexturePath: "../Common/ability_bg.png", Border: 48);
                  Padding: (Left: 24, Right: 18, Bottom: 10, Top: 14);

                  Group {
                    LayoutMode: Top;
                    FlexWeight: 1;

                    Label #FlameTouchName {
                      Style: @AbilityNameStyle;
                      Text: "Flame Touch";
                      Anchor: (Bottom: 2);
                    }

                    Label #FlameTouchLevel {
                      Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                      Text: "Level 0/3 (+0)";
                      Anchor: (Bottom: 4);
                    }

                    Label #FlameTouchDescription {
                      Style: @AbilityDescriptionStyle;
                      Text: "Bonus fire damage on hit: +2, +4, +6.";
                    }
                  }

                  Group {
                    Anchor: (Width: 80);
                    LayoutMode: Top;

                    Group #FlameTouchIcon {
                      Anchor: (Width: 48, Height: 48, Bottom: 4);
                      Background: (TexturePath: "../Common/flame_touch_icon.png");
                    }

                    Group { FlexWeight: 1; }

                    $C.@SmallSecondaryTextButton #FlameTouchUpgrade {
                      Anchor: (Width: 75, Height: 26, Right: 2, Bottom: 6);
                      Text: "Upgrade";
                    }
                  }
                }

                Group { Anchor: (Width: 8); }

                Group #GourmandCard {
                  LayoutMode: Left;
                  FlexWeight: 1;
                  Background: (TexturePath: "../Common/ability_bg.png", Border: 48);
                  Padding: (Left: 24, Right: 18, Bottom: 10, Top: 14);

                  Group {
                    LayoutMode: Top;
                    FlexWeight: 1;

                    Label #GourmandName {
                      Style: @AbilityNameStyle;
                      Text: "Gourmand";
                      Anchor: (Bottom: 2);
                    }

                    Label #GourmandLevel {
                      Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                      Text: "Level 0/3 (+0%)";
                      Anchor: (Bottom: 4);
                    }

                    Label #GourmandDescription {
                      Style: @AbilityDescriptionStyle;
                      Text: "Increase food stat gains: 10%, 20%, 30%.";
                    }
                  }

                  Group {
                    Anchor: (Width: 80);
                    LayoutMode: Top;

                    Group #GourmandIcon {
                      Anchor: (Width: 48, Height: 48, Bottom: 4);
                      Background: (TexturePath: "../Common/gourmand_icon.png");
                    }

                    Group { FlexWeight: 1; }

                    $C.@SmallSecondaryTextButton #GourmandUpgrade {
                      Anchor: (Width: 75, Height: 26, Right: 2, Bottom: 6);
                      Text: "Upgrade";
                    }
                  }
                }
              }
            }
          }
        }
      }

      Group #PartyContent {
        LayoutMode: Top;
        FlexWeight: 1;
        Visible: false;

        Group #PartyPanel {
          FlexWeight: 1;
          Background: (TexturePath: "../Common/ContainerPanelPatch.png", Border: 4);
          LayoutMode: Top;
          Padding: (Full: 16);

          Group {
            LayoutMode: Left;
            Anchor: (Bottom: 12);

            Label {
              Style: @SectionTitleStyle;
              Text: "Party";
            }

            Group { FlexWeight: 1; }

            $C.@SecondaryTextButton #PartyCreateButton {
              Anchor: (Width: 180, Height: 26);
              Text: "Create Party";
            }

            $C.@SecondaryTextButton #PartyLeaveButton {
              Anchor: (Width: 180, Height: 26);
              Text: "Leave Party";
              Visible: false;
              HitTestVisible: false;
            }
          }

          Group #PartyList {
            FlexWeight: 1;
            LayoutMode: TopScrolling;
            ScrollbarStyle: $C.@DefaultScrollbarStyle;
            Padding: (Right: 8);

            Group #PartyListStack {
              LayoutMode: Top;
              Anchor: (Left: 0, Right: 0);

              Group #PartyPlayer1Card {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 96, Bottom: 8);
                Background: (TexturePath: "../Common/party_bg.png", Border: 48);
                Padding: (Left: 24, Right: 18, Bottom: 10, Top: 12);

                Group {
                  LayoutMode: Top;
                  FlexWeight: 1;

                  Label #PartyPlayer1Name {
                    Style: @AbilityNameStyle;
                    Text: "Player";
                    Anchor: (Bottom: 2);
                  }

                  Label #PartyPlayer1Level {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                    Text: "LV ?";
                    Anchor: (Bottom: 2);
                  }

                  Label #PartyPlayer1Status {
                    Style: @AbilityDescriptionStyle;
                    Text: "No party";
                  }
                }

                Group {
                  Anchor: (Width: 180);
                  LayoutMode: Top;

                  $C.@SmallSecondaryTextButton #PartyPlayer1Invite {
                    Anchor: (Width: 160, Height: 24, Bottom: 6);
                    Text: "Invite";
                  }

                  $C.@SmallSecondaryTextButton #PartyPlayer1Accept {
                    Anchor: (Width: 160, Height: 24, Bottom: 6);
                    Text: "Accept";
                  }

                  $C.@SmallSecondaryTextButton #PartyPlayer1Decline {
                    Anchor: (Width: 160, Height: 24);
                    Text: "Decline";
                  }
                }
              }

              Group #PartyPlayer2Card {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 96, Bottom: 8);
                Background: (TexturePath: "../Common/party_bg.png", Border: 48);
                Padding: (Left: 24, Right: 18, Bottom: 10, Top: 12);

                Group {
                  LayoutMode: Top;
                  FlexWeight: 1;

                  Label #PartyPlayer2Name {
                    Style: @AbilityNameStyle;
                    Text: "Player";
                    Anchor: (Bottom: 2);
                  }

                  Label #PartyPlayer2Level {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                    Text: "LV ?";
                    Anchor: (Bottom: 2);
                  }

                  Label #PartyPlayer2Status {
                    Style: @AbilityDescriptionStyle;
                    Text: "No party";
                  }
                }

                Group {
                  Anchor: (Width: 180);
                  LayoutMode: Top;

                  $C.@SmallSecondaryTextButton #PartyPlayer2Invite {
                    Anchor: (Width: 160, Height: 24, Bottom: 6);
                    Text: "Invite";
                  }

                  $C.@SmallSecondaryTextButton #PartyPlayer2Accept {
                    Anchor: (Width: 160, Height: 24, Bottom: 6);
                    Text: "Accept";
                  }

                  $C.@SmallSecondaryTextButton #PartyPlayer2Decline {
                    Anchor: (Width: 160, Height: 24);
                    Text: "Decline";
                  }
                }
              }

              Group #PartyPlayer3Card {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 96, Bottom: 8);
                Background: (TexturePath: "../Common/party_bg.png", Border: 48);
                Padding: (Left: 24, Right: 18, Bottom: 10, Top: 12);

                Group {
                  LayoutMode: Top;
                  FlexWeight: 1;

                  Label #PartyPlayer3Name {
                    Style: @AbilityNameStyle;
                    Text: "Player";
                    Anchor: (Bottom: 2);
                  }

                  Label #PartyPlayer3Level {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                    Text: "LV ?";
                    Anchor: (Bottom: 2);
                  }

                  Label #PartyPlayer3Status {
                    Style: @AbilityDescriptionStyle;
                    Text: "No party";
                  }
                }

                Group {
                  Anchor: (Width: 180);
                  LayoutMode: Top;

                  $C.@SmallSecondaryTextButton #PartyPlayer3Invite {
                    Anchor: (Width: 160, Height: 24, Bottom: 6);
                    Text: "Invite";
                  }

                  $C.@SmallSecondaryTextButton #PartyPlayer3Accept {
                    Anchor: (Width: 160, Height: 24, Bottom: 6);
                    Text: "Accept";
                  }

                  $C.@SmallSecondaryTextButton #PartyPlayer3Decline {
                    Anchor: (Width: 160, Height: 24);
                    Text: "Decline";
                  }
                }
              }

              Group #PartyPlayer4Card {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 96, Bottom: 8);
                Background: (TexturePath: "../Common/party_bg.png", Border: 48);
                Padding: (Left: 24, Right: 18, Bottom: 10, Top: 12);

                Group {
                  LayoutMode: Top;
                  FlexWeight: 1;

                  Label #PartyPlayer4Name {
                    Style: @AbilityNameStyle;
                    Text: "Player";
                    Anchor: (Bottom: 2);
                  }

                  Label #PartyPlayer4Level {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                    Text: "LV ?";
                    Anchor: (Bottom: 2);
                  }

                  Label #PartyPlayer4Status {
                    Style: @AbilityDescriptionStyle;
                    Text: "No party";
                  }
                }

                Group {
                  Anchor: (Width: 180);
                  LayoutMode: Top;

                  $C.@SmallSecondaryTextButton #PartyPlayer4Invite {
                    Anchor: (Width: 160, Height: 24, Bottom: 6);
                    Text: "Invite";
                  }

                  $C.@SmallSecondaryTextButton #PartyPlayer4Accept {
                    Anchor: (Width: 160, Height: 24, Bottom: 6);
                    Text: "Accept";
                  }

                  $C.@SmallSecondaryTextButton #PartyPlayer4Decline {
                    Anchor: (Width: 160, Height: 24);
                    Text: "Decline";
                  }
                }
              }

              Group #PartyPlayer5Card {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 96, Bottom: 8);
                Background: (TexturePath: "../Common/party_bg.png", Border: 48);
                Padding: (Left: 24, Right: 18, Bottom: 10, Top: 12);

                Group {
                  LayoutMode: Top;
                  FlexWeight: 1;

                  Label #PartyPlayer5Name {
                    Style: @AbilityNameStyle;
                    Text: "Player";
                    Anchor: (Bottom: 2);
                  }

                  Label #PartyPlayer5Level {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                    Text: "LV ?";
                    Anchor: (Bottom: 2);
                  }

                  Label #PartyPlayer5Status {
                    Style: @AbilityDescriptionStyle;
                    Text: "No party";
                  }
                }

                Group {
                  Anchor: (Width: 180);
                  LayoutMode: Top;

                  $C.@SmallSecondaryTextButton #PartyPlayer5Invite {
                    Anchor: (Width: 160, Height: 24, Bottom: 6);
                    Text: "Invite";
                  }

                  $C.@SmallSecondaryTextButton #PartyPlayer5Accept {
                    Anchor: (Width: 160, Height: 24, Bottom: 6);
                    Text: "Accept";
                  }

                  $C.@SmallSecondaryTextButton #PartyPlayer5Decline {
                    Anchor: (Width: 160, Height: 24);
                    Text: "Decline";
                  }
                }
              }

              Group #PartyPlayer6Card {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 96, Bottom: 8);
                Background: (TexturePath: "../Common/party_bg.png", Border: 48);
                Padding: (Left: 24, Right: 18, Bottom: 10, Top: 12);

                Group {
                  LayoutMode: Top;
                  FlexWeight: 1;

                  Label #PartyPlayer6Name {
                    Style: @AbilityNameStyle;
                    Text: "Player";
                    Anchor: (Bottom: 2);
                  }

                  Label #PartyPlayer6Level {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                    Text: "LV ?";
                    Anchor: (Bottom: 2);
                  }

                  Label #PartyPlayer6Status {
                    Style: @AbilityDescriptionStyle;
                    Text: "No party";
                  }
                }

                Group {
                  Anchor: (Width: 180);
                  LayoutMode: Top;

                  $C.@SmallSecondaryTextButton #PartyPlayer6Invite {
                    Anchor: (Width: 160, Height: 24, Bottom: 6);
                    Text: "Invite";
                  }

                  $C.@SmallSecondaryTextButton #PartyPlayer6Accept {
                    Anchor: (Width: 160, Height: 24, Bottom: 6);
                    Text: "Accept";
                  }

                  $C.@SmallSecondaryTextButton #PartyPlayer6Decline {
                    Anchor: (Width: 160, Height: 24);
                    Text: "Decline";
                  }
                }
              }

              Group #PartyPlayer7Card {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 96, Bottom: 8);
                Background: (TexturePath: "../Common/party_bg.png", Border: 48);
                Padding: (Left: 24, Right: 18, Bottom: 10, Top: 12);

                Group {
                  LayoutMode: Top;
                  FlexWeight: 1;

                  Label #PartyPlayer7Name {
                    Style: @AbilityNameStyle;
                    Text: "Player";
                    Anchor: (Bottom: 2);
                  }

                  Label #PartyPlayer7Level {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                    Text: "LV ?";
                    Anchor: (Bottom: 2);
                  }

                  Label #PartyPlayer7Status {
                    Style: @AbilityDescriptionStyle;
                    Text: "No party";
                  }
                }

                Group {
                  Anchor: (Width: 180);
                  LayoutMode: Top;

                  $C.@SmallSecondaryTextButton #PartyPlayer7Invite {
                    Anchor: (Width: 160, Height: 24, Bottom: 6);
                    Text: "Invite";
                  }

                  $C.@SmallSecondaryTextButton #PartyPlayer7Accept {
                    Anchor: (Width: 160, Height: 24, Bottom: 6);
                    Text: "Accept";
                  }

                  $C.@SmallSecondaryTextButton #PartyPlayer7Decline {
                    Anchor: (Width: 160, Height: 24);
                    Text: "Decline";
                  }
                }
              }

              Group #PartyPlayer8Card {
                LayoutMode: Left;
                Anchor: (Left: 0, Right: 0, Height: 96, Bottom: 8);
                Background: (TexturePath: "../Common/party_bg.png", Border: 48);
                Padding: (Left: 24, Right: 18, Bottom: 10, Top: 12);

                Group {
                  LayoutMode: Top;
                  FlexWeight: 1;

                  Label #PartyPlayer8Name {
                    Style: @AbilityNameStyle;
                    Text: "Player";
                    Anchor: (Bottom: 2);
                  }

                  Label #PartyPlayer8Level {
                    Style: (...$C.@DefaultLabelStyle, TextColor: #9fb3c8);
                    Text: "LV ?";
                    Anchor: (Bottom: 2);
                  }

                  Label #PartyPlayer8Status {
                    Style: @AbilityDescriptionStyle;
                    Text: "No party";
                  }
                }

                Group {
                  Anchor: (Width: 180);
                  LayoutMode: Top;

                  $C.@SmallSecondaryTextButton #PartyPlayer8Invite {
                    Anchor: (Width: 160, Height: 24, Bottom: 6);
                    Text: "Invite";
                  }

                  $C.@SmallSecondaryTextButton #PartyPlayer8Accept {
                    Anchor: (Width: 160, Height: 24, Bottom: 6);
                    Text: "Accept";
                  }

                  $C.@SmallSecondaryTextButton #PartyPlayer8Decline {
                    Anchor: (Width: 160, Height: 24);
                    Text: "Decline";
                  }
                }
              }
            }
          }
        }
      }

      Group #ResetContent {
        LayoutMode: Middle;
        FlexWeight: 1;
        Visible: false;

        Group {
          Background: (TexturePath: "../Common/ContainerPanelPatch.png", Border: 4);
          Anchor: (Width: 520, Height: 260);
          LayoutMode: Top;
          Padding: (Full: 18);

          Label {
            Style: (...$C.@DefaultLabelStyle, FontSize: 18, TextColor: #d8c9a6, HorizontalAlignment: Center, Wrap: true);
            Text: "Resetting your stats cannot be undone.";
            Anchor: (Bottom: 12);
          }

          Label {
            Style: (...$C.@DefaultLabelStyle, TextColor: #c7d1d8, HorizontalAlignment: Center, Wrap: true);
            Text: "This will return all stats to their default values.";
            Anchor: (Bottom: 18);
          }

          Group {
            LayoutMode: Center;

            $C.@CancelTextButton #ResetStatsButton {
              Anchor: (Width: 220, Height: 36);
              Text: "Reset Stats";
            }
          }
        }
      }
    }

  }
}

